lbiApp.controller("createMarketCtrl",["$scope","$state","lbiService","SweetAlert","tagEnitySwitch","$timeout",function(a,b,c,d,e,f){a.inArray=$.inArray;var g={};a.$on("$stateChangeSuccess",function(c,d,e,h){return""==h.name?(b.go("index.crowd.step1"),!1):("index.crowd"==d.name&&b.go("index.crowd.step1"),void("index.crowd.step1"!=d.name||$.isEmptyObject(g)||f(function(){a.$broadcast("BROADCAST_CROWD_PARAMS",$.extend({},g))},100)))}),a.$on("PASS_CROWD_PARAMS",function(a,b){g=$.extend(g,b),b.hasOwnProperty("crowdName")&&h()});var h=function(){c("createCrowd",$.extend({},g,{tagEntitys:e(g.tagEntitys)}),"POST").then(function(){d.swal({title:"创建营销人群成功!",confirmButtonColor:"#399eee",confirmButtonText:"确定"},function(){a.go("index.crowd.step1")})},function(a){d.swal({title:"创建营销人群失败!",text:a,confirmButtonColor:"#399eee",confirmButtonText:"确定"},function(){b.go("index.crowd.step1")})})}}]);