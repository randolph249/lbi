lbiApp.factory("docmentClickOutSide",["$rootScope",function(a){return $("body").on("click",function(b){var c=$(b.target);a.$broadcast("DOCUMENT_CLICK",c)}),{}}]),lbiApp.directive("dropMenu",["safeApply","$rootScope","docmentClickOutSide",function(a){return{scope:{cid:"=cid",list:"=list",model:"=ngModel"},require:"?ngModel",transclude:!0,templateUrl:"dropmenu.html",compile:function(){return{pre:function(a,b,c){var d=(a.$watch("cid",function(a){return"undefined"!=$.type(a)&&String(a).length?(a=String(a),void d(a)):!1}),function(b){if(!b||!String(b).length)return!1;var c="",d=a.passname,e=a.displaykey;return $.each(a.list,function(a,f){return f[d]==b?(c=f[e],!1):void 0}),a.selectedname=c,!1});a.displaykey=c.displaykey||"name",a.searchEnable="true"===c.searchEnable?!0:!1,a.width=Number(c.width)||200,a.passname=c.passname||"id",a.selectedname="",a.showMe=!1,a.Math=window.Math,a.prevdis=!0,a.nextdis=!0,a.prev=function(){return a.prevdis?!1:void(a.pageno=a.pageno-1)},a.next=function(){return a.nextdis?!1:void(a.pageno=a.pageno+1)},a.chooseId=function(b){a.showMe=!1,a.cid=b,d(b)}},post:function(b,c,d,e){b.showTransclude=0!=c.find("[ng-transclude]").children().length,b.$watch("model",function(a){return a?void(e&&e.$setViewValue(a)):!1}),b.$on("DOCUMENT_CLICK",function(d,e){return 0==b.showMe?!1:void(c.find(e).length||a(b,function(){b.showMe=!1}))})}}}}}]),lbiApp.directive("multipleDropMenu",["safeApply",function(a){var b=function(a,b,c){a.width=c.width||120,a.showMe=!1,a.passname=c.passname||"id",a.displaykey=c.displaykey||"name",a.placeHolder=c.placeHolder||"请选择",a.searchEnable="false"===c.searchEnable?!1:!0,a.toggleItem=function(b){a.toggleCheckedItem({items:[b]})},a.chooseAll=function(){var b=$.map(a.list,function(b){return b[a.passname]});a.toggleCheckedItem({items:b})},a.isChecked=function(b){return-1!=a.checkedList.join(",").indexOf(""+b)}},c=function(b,c,d,e){b.$watch("model",function(a){return a?void(e&&e.$setViewValue(a)):!1}),b.$on("DOCUMENT_CLICK",function(d,e){return 0==b.showMe?!1:void(c.find(e).length||a(b,function(){b.showMe=!1}))})};return{scope:{list:"=",checkedList:"=",toggleCheckedItem:"&",model:"=ngModel"},require:"?ngModel",templateUrl:"multipledropmenu.html",transclude:!0,compile:function(){return{pre:b,post:c}}}}]),lbiApp.directive("multipleDropMenuPage",[function(){function a(a,b,c){a.pageNo=1,a.prev=function(){return 1==a.pageNo?!1:(a.pageNo=a.pageNo-1,void a.pagingAction({page:a.pageNo}))},c.$observe("pageNo",function(b){return b&&Number(b)?(a.pageNo=Number(b),void a.pagingAction({page:a.pageNo})):!1}),a.next=function(){return a.pageNo==a.totalPage?!1:(a.pageNo=a.pageNo+1,void a.pagingAction({page:a.pageNo}))}}return{templateUrl:"multipledropmenupage.html",compile:function(){return{pre:a}},scope:{totalPage:"=",pagingAction:"&"}}}]);