lbiApp.directive("paging",function(){function a(a,b){a.List=[],a.Hide=!1,a.page=parseInt(a.page)||1,a.total=parseInt(a.total)||0,a.dots=a.dots||"...",a.ulClass=a.ulClass||"pagination",a.adjacent=parseInt(a.adjacent)||2,a.activeClass=a.activeClass||"active",a.disabledClass=a.disabledClass||"disabled",a.scrollTop=a.$eval(b.scrollTop),a.hideIfEmpty=a.$eval(b.hideIfEmpty),a.showPrevNext=a.$eval(b.showPrevNext)}function b(a,b){a.page>b&&(a.page=b),a.page<=0&&(a.page=1),a.adjacent<=0&&(a.adjacent=2),1>=b&&(a.Hide=a.hideIfEmpty)}function c(a,b){a.page!=b&&(a.page=b,a.pagingAction({page:b}),a.scrollTop&&scrollTo(0,0))}function d(a,b,d){var e=0;for(e=a;b>=e;e++){var f={value:e,title:"Page "+e,liClass:d.page==e?d.activeClass:"",action:function(){c(d,this.value)}};d.List.push(f)}}function e(a){a.List.push({value:a.dots})}function f(a){d(1,2,a),e(a)}function g(a,b){e(b),d(a-1,a,b)}function h(a,b){if(a.showPrevNext&&!(1>b)){var d=a.page-1<=0,e=a.page-1<=0?1:a.page-1,f={value:"<<",title:"First Page",liClass:d?a.disabledClass:"",action:function(){d||c(a,1)}},g={value:"<",title:"Previous Page",liClass:d?a.disabledClass:"",action:function(){d||c(a,e)}};a.List.push(f),a.List.push(g)}}function i(a,b){if(a.showPrevNext&&!(1>b)){var d=a.page+1>b,e=a.page+1>=b?b:a.page+1,f={value:">>",title:"Last Page",liClass:d?a.disabledClass:"",action:function(){d||c(a,b)}},g={value:">",title:"Next Page",liClass:d?a.disabledClass:"",action:function(){d||c(a,e)}};a.List.push(g),a.List.push(f)}}function j(c,e){if(c.pageSize&&!(c.pageSize<0)){a(c,e);var j,k=2*c.adjacent,l=c.total;if(b(c,l),h(c,l),5+k>l)j=1,d(j,l,c);else{var m;c.page<=1+k?(j=1,m=2+k+(c.adjacent-1),d(j,m,c),g(l,c)):l-k>c.page&&c.page>k?(j=c.page-c.adjacent,m=c.page+c.adjacent,f(c),d(j,m,c),g(l,c)):(j=l-(1+k+(c.adjacent-1)),m=l,f(c),d(j,m,c))}i(c,l)}}return{restrict:"EA",scope:{page:"=",pageSize:"=",total:"=",dots:"@",hideIfEmpty:"@",ulClass:"@",activeClass:"@",disabledClass:"@",adjacent:"@",scrollTop:"@",showPrevNext:"@",pagingAction:"&"},templateUrl:"page.html",link:function(a,b,c){a.$watch("page",function(){j(a,c)})}}});