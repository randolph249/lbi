lbiApp.directive("tilelegend",[function(){var a=function(a){a.Number=Number,a.selected=[],a.toggleItem=function(b){var c=b.min+","+b.max,d=$.inArray(c,a.selected);-1==d?a.selected.push(c):selected=a.selected.splice(d,1),a.selectCall&&a.selectCall({selected:a.selected})},a.isChecked=function(b){var c=b.min+","+b.max;return-1!=$.inArray(c,a.selected)},a.$watch("legends",function(b){return b&&b.length?(a.selected=$.map(b,function(a){return a.min+","+a.max}),void(a.selectCall&&a.selectCall({selected:a.selected}))):!1})};return{templateUrl:"tilelegend.html",compile:function(){return{pre:a}},scope:{legends:"=",selectCall:"&"}}}]);