lbiApp.directive("datepicker",[function(){return{scope:{startDate:"@",endDate:"@",options:"@"},require:"?ngModel",link:function(a,b,c,d){var e,f=/\d{4}(-|\/)\d{1,2}(-|\/)\d{1,2}/;"string"==$.type(a.options)&&(e=JSON.parse(a.options)),e=$.extend(!0,{numberOfMonths:isNaN(c.numberOfMonths)?2:Number(c.numberOfMonths),dateFormat:"yy-mm-dd"},e),b.datepicker(e);a.$watch("startDate",function(){return f.test(a.startDate)?void b.datepicker("option","minDate",new Date(a.startDate)):!1}),a.$watch("endDate",function(){return f.test(a.endDate)?void b.datepicker("option","maxDate",new Date(a.endDate)):!1});a.$watch(function(){return d.$modelValue},function(){b.datepicker("setDate",d.$viewValue)})}}}]);